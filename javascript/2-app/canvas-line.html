<!DOCTYPE html>
<html>
  <style>
   body{
     margin: 0;
     padding: 0;
   }
   #myCanvas{
     width: 100vw;
     height: 100vh;
     border:1px solid #ccc;
   }
  </style>
<body>

<canvas id="myCanvas">

<script>
let dpi = window.devicePixelRatio;
let canvas = document.getElementById('myCanvas');
let ctx = canvas.getContext('2d');

let style_height = +getComputedStyle(canvas).getPropertyValue("height").slice(0, -2);
let style_width = +getComputedStyle(canvas).getPropertyValue("width").slice(0, -2);
canvas.setAttribute('height', style_height * dpi);
canvas.setAttribute('width', style_width * dpi);

canvas.onmousedown = (el) => {
 let y  = el.clientY
 let x  = el.clientX
  document.onmousemove = () => {
    document.onmouseup = (e) => {
      ctx.beginPath();
      ctx.moveTo(x,y);
      ctx.lineTo( e.clientX, e.clientY)
      ctx.strokeStyle = 'black'
      ctx.lineWidth = 2
      ctx.stroke()
     
      document.onmouseup = null
      document.onmousemove = null
    }
  }
}
</script>

</body>
</html>